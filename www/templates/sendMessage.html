<ion-modal-view>
  <ion-header-bar class="bar-assertive">

    <h1 class="title">Send Alert Message</h1>

    <div class="buttons">
      <button class="button button-clear" ng-click="closeModal()">Cancel</button>
    </div>

  </ion-header-bar>

  <ion-content class="padding">

    <form name="messageForm" >

      <div class="list">

        <div class="item item-divider item-icon-left">
          <i class="icon ion-email custom-icon-list"></i>
          Message Detail
        </div>

        <label class="item item-input">        
          <textarea rows="4" placeholder="Write a message" ng-model="circleMessage.message" ng-minlength="1" ng-maxlength="160" required name="message"></textarea>
        </label>
        <div role="alert">
          <span class="error" ng-show="messageForm.message.$error.maxlength">
            The message is too long</span>
        </div>

        <label class="item item-input item-select" >
          <span class="input-label">Message Type</span>
          <select ng-model="messageType.id">
            <option ng-repeat="item in messageTypes" value="{{item.id}}" ng-selected="isSelectedMessageType(item)">
               {{item.name}}
            </option>
          </select>
        </label>

        <label class="item item-input item-select">
          <span class="input-label">Priority</span>
          <select ng-model="priority.id">
            <option ng-repeat="item in priorities" value="{{item.id}}" ng-selected="{{isSelectedPriority(item)}}">
               {{item.name}}
            </option>
          </select>
        </label>

        <label class="item item-input"> 
          <span class="input-label left">Date message sent</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <ionic-datepicker input-obj="datepickerObject" >
              <!--<button class="button button-clear button-dark" > {{datepickerObject.inputDate | date:'dd-MMMM-yyyy'}}</button>-->
              <button style="float:right;" class="button button-icon icon ion-android-calendar"></button>
            </ionic-datepicker>
          
        </label>

        <div class="item item-divider item-icon-left">
          <i class="icon ion-android-wifi custom-icon-list"></i>
          Operators
        </div>
  
        <ion-checkbox ng-repeat="item in operators"
                      ng-model="item.checked" 
                      ng-checked="item.checked" 
                      class="checkbox-assertive" >
          {{item.name}}
        </ion-checkbox>

        <button class="button button-block button-energized" ng-disabled="messageForm.$invalid" ng-click="smsPreview()">Preview</button>
      </div>

    </form>

  </ion-content>

</ion-modal-view>